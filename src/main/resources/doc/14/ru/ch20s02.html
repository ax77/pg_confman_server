<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>20.2. Расположения файлов</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"/></head><body><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="runtime-config-file-locations"/>20.2. Расположения файлов</h1></div></div></div><p>В дополнение к вышеупомянутому <code class="filename">postgresql.conf</code>, <span class="productname">PostgreSQL</span> обрабатывает два редактируемых вручную файла конфигурации, в которых настраивается аутентификация клиентов (их использование рассматривается в <a class="xref" href="ch21.html" title="Глава 21. Аутентификация клиентского приложения">Главе 21</a>). По умолчанию все три файла конфигурации размещаются в каталоге данных кластера БД. Параметры, описанные в этом разделе, позволяют разместить их и в любом другом месте. (Это позволяет упростить администрирование, в частности, выполнять резервное копирование этих файлов обычно проще, когда они хранятся отдельно.)</p><div class="variablelist"><dl class="variablelist"><dt><a id="guc-data-directory"/><span class="term"><code class="varname">data_directory</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.1.1.3" class="indexterm"/></span></dt><dd><p>Задаёт каталог, в котором хранятся данные. Этот параметр можно задать только при запуске сервера.</p></dd><dt><a id="guc-config-file"/><span class="term"><code class="varname">config_file</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.2.1.3" class="indexterm"/></span></dt><dd><p>Задаёт основной файл конфигурации сервера (его стандартное имя — <code class="filename">postgresql.conf</code>). Этот параметр можно задать только в командной строке <span class="command"><strong>postgres</strong></span>.</p></dd><dt><a id="guc-hba-file"/><span class="term"><code class="varname">hba_file</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.3.1.3" class="indexterm"/></span></dt><dd><p>Задаёт файл конфигурации для аутентификации по сетевым узлам (его стандартное имя — <code class="filename">pg_hba.conf</code>). Этот параметр можно задать только при старте сервера.</p></dd><dt><a id="guc-ident-file"/><span class="term"><code class="varname">ident_file</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.4.1.3" class="indexterm"/></span></dt><dd><p>Задаёт файл конфигурации для сопоставлений имён пользователей (его стандартное имя — <code class="filename">pg_ident.conf</code>). Этот параметр можно задать только при запуске сервера. См. также <a class="xref" href="ch21s02.html" title="21.2. Файл сопоставления имён пользователей">Раздел 21.2</a>.</p></dd><dt><a id="guc-external-pid-file"/><span class="term"><code class="varname">external_pid_file</code> (<code class="type">string</code>) <a id="id-1.6.7.5.3.5.1.3" class="indexterm"/></span></dt><dd><p>Задаёт имя дополнительного файла с идентификатором процесса (PID), который будет создавать сервер для использования программами администрирования. Этот параметр можно задать только при запуске сервера.</p></dd></dl></div><p>При стандартной установке ни один из этих параметров не задаётся явно. Вместо них задаётся только каталог данных, аргументом командной строки <code class="option">-D</code> или переменной окружения <code class="envar">PGDATA</code>, и все необходимые файлы конфигурации загружаются из этого каталога.</p><p>Если вы хотите разместить файлы конфигурации не в каталоге данных, то аргумент командной строки <span class="command"><strong>postgres</strong></span> <code class="option">-D</code> или переменная окружения <code class="envar">PGDATA</code> должны указывать на каталог, содержащий файлы конфигурации, а в <code class="filename">postgresql.conf</code> (или в командной строке) должен задаваться параметр <code class="varname">data_directory</code>, указывающий, где фактически находятся данные. Учтите, что <code class="varname">data_directory</code> переопределяет путь, задаваемый в <code class="option">-D</code> или <code class="envar">PGDATA</code> как путь каталога данных, но не расположение файлов конфигурации.</p><p>При желании вы можете задать имена и пути файлов конфигурации по отдельности, воспользовавшись параметрами <code class="varname">config_file</code>, <code class="varname">hba_file</code> и/или <code class="varname">ident_file</code>. Параметр <code class="varname">config_file</code> можно задать только в командной строке <span class="command"><strong>postgres</strong></span>, тогда как остальные можно задать и в основном файле конфигурации. Если явно заданы все три эти параметра плюс <code class="varname">data_directory</code>, то задавать <code class="option">-D</code> или <code class="envar">PGDATA</code> не нужно.</p><p>Во всех этих параметрах относительный путь должен задаваться от каталога, в котором запускается <span class="command"><strong>postgres</strong></span>.</p></div></body></html>